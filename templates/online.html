{% extends 'base.html' %}
{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'css/styleon.css' %}">
{% endblock %}
{% block title %}Book Collection{% endblock title %}
{% block content %}
<nav>

    <div class="logo">
        <a href="/online/f/1">
            <img src="{% static 'img/component1.png' %}" , width="200px">
        </a>
    </div>

    <div class="search">
        <form method="GET" action="{% url 'searchon' %}">
            <input type="text" id="search" name="quest" value="{{query}}" placeholder="Cari di BookSelv">
            <button class="spy" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
        </form>
    </div>

    <div class="nav-right">
        <a href="{% url 'loginadm' %}" class="log">Manajemen Buku</a>

    </div>
</nav>
<div class="alls">
    <div class="hal">
        <p><small>halaman</small></p>
    </div>
    <div class="pagination">
        {% if root == 1 %}
        {% if infolder.has_previous %}
        <a href="?folder_page=1" class="pagepos"><i class="fa-solid fa-angles-left"></i></a>
        <a href="?folder_page={{ infolder.previous_page_number }}" class="pagepos"><i
                class="fa-solid fa-chevron-left"></i></a>
        {% else%}
        <p class="pageneg"><i class="fa-solid fa-angles-left"></i></p>
        <p class="pageneg"><i class="fa-solid fa-chevron-left"></i></p>
        {% endif %}

        <div>
            <span class="pagenum">{{ infolder.number }} dari {{ infolder.paginator.num_pages }} </span>
        </div>

        {% if infolder.has_next %}
        <a href="?folder_page={{ infolder.next_page_number }}" class="pagepos"><i
                class="fa-solid fa-chevron-right"></i></a>
        <a href="?folder_page={{ infolder.paginator.num_pages }}" class="pagepos"><i
                class="fa-solid fa-angles-right"></i></a>
        {% else %}
        <p class="pageneg"><i class="fa-solid fa-chevron-right"></i></p>
        <p class="pageneg"><i class="fa-solid fa-angles-right"></i></p>
        {% endif %}

        {% else %}

        {% if infile.has_previous %}
        <a href="?file_page=1" class="pagepos"><i class="fa-solid fa-angles-left"></i></a>
        <a href="?file_page={{ infile.previous_page_number }}" class="pagepos"><i class="fa-solid fa-chevron-left"></i></a>
        {% else %}
        <p class="pageneg"><i class="fa-solid fa-angles-left"></i></p>
        <p class="pageneg"><i class="fa-solid fa-chevron-left"></i></p>
        {% endif %}

        <div>
            <span class="pagenum">{{ infile.number }} dari {{ infile.paginator.num_pages }}</span>
        </div>

        {% if infile.has_next %}
        <a href="?file_page={{ infile.next_page_number }}" class="pagepos"><i class="fa-solid fa-chevron-right"></i></a>
        <a href="?file_page={{ infile.paginator.num_pages }}" class="pagepos"><i class="fa-solid fa-angles-right"></i></a>
        {% else %}
        <p class="pageneg"><i class="fa-solid fa-chevron-right"></i></p>
        <p class="pageneg"><i class="fa-solid fa-angles-right"></i></p>
        {% endif %}
        {% endif %}
    </div>

    <div class="tablecar">

        {% for i in infolder %}
        <div class="cardcover">
            <a href="/online/f/{{i.id}}">
                <div class="card" style="width: 11rem;">
                    <img class="card-img-top" src="{% static 'img/shelf.png' %}" alt="Card image cap">
                    <div class="card-body">
                        <p class="card-title">{{i.folder_name}}</p>
                        <br> <br>
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}

        {% for i in infile %}
        <div class="cardcover">
            <a href="{% url 'book_detail' id=i.id %}">
                <div class="card" style="width: 11rem;">
                    {% if i.img %}
                    <img class="card-img-top" src="{{i.img.url}}" alt="{{i.title}}">
                    {% else %}
                    <img class="card-img-top" src="{% static 'img/book.png' %}" alt="{{i.title}}">
                    {% endif %}
                    <div class="card-body">
                        <p class="card-title">{{i.Title}}</p>

                    </div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
</div>
</div>
{% endblock content %}